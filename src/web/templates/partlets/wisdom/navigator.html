<div class="wisdom-box box">
    <div class="box-title">
        <span>navegador</span>
    </div>
    <div class="box-role">
        <span>
            O <strong>Navegador</strong> é aquele que busca experiência de outras vidas para trazer a <strong>Sabedoria</strong> à <strong>Expedição</strong>
        </span>
    </div>
    <div class="box-input">
        <div class="box-habit">
            <span>
                Sobre o hábito da <strong>Leitura</strong>
            </span>
        </div>
        <div id="form-container" class="flex-table">
            <div class="flex-row" data-row-index="0">
                <div class="flex-cell cell-50"><input type="text" name="text_wisdom_navigator_book_0" placeholder="Nome do Livro"></div>
                <div class="flex-cell cell-25">
                    <span><i class="fa-solid fa-pills"></i></span>
                    <div id="toggle_wisdom_navigatorSession_0" class="toggle" onclick="toggleButton('wisdom_navigatorSession_0')">
                        <div class="toggle-button"></div>
                    </div>
                    <span><i class="fa-regular fa-calendar-check"></i></span>
                    <input type="hidden" id="input_wisdom_navigatorSession_0" name="toggle_wisdom_navigatorSession_0" value="False">
                </div>
                <div class="flex-cell cell-25">
                    <span><i class="fa-regular fa-moon"></i></span>
                    <div id="toggle_wisdom_navigatorExcelence_0" class="toggle" onclick="toggleButton('wisdom_navigatorExcelence_0')">
                        <div class="toggle-button"></div>
                    </div>
                    <span><i class="fa-solid fa-sun"></i></span>
                    <input type="hidden" id="input_wisdom_navigatorExcelence_0" name="toggle_wisdom_navigatorExcelence_0" value="False">
                </div>
            </div>
        </div>
        <div class="buttonContainer">
            <button type="button" class="removeButton" id="remove-row">
                <i class="fa-solid fa-square-minus"></i>
                Remove
            </button>
            <button type="button" class="addButton" id="add-row">
                <i class="fa-solid fa-square-plus"></i>
                Add
            </button>
        </div>
        <!-- <div class="flex-table">
            <div class="flex-row">
                <div class="flex-cell cell-50"><input type="text" name="text_wisdom_navigator_book" placeholder="Nome do Livro" ></div>
                <div class="flex-cell cell-25">
                    <span><i class="fa-solid fa-pills"></i></span>
                    <div id="toggle_wisdom_navigatorSession" class="toggle" onclick="toggleButton('wisdom_navigatorSession')">
                        <div class="toggle-button"></div>
                    </div>
                    <span><i class="fa-regular fa-calendar-check"></i></span>
                    <input type="hidden" id="input_wisdom_navigatorSession" name="toggle_wisdom_navigatorSession" value="False">
                </div>
                <div class="flex-cell cell-25">
                    <span><i class="fa-regular fa-moon"></i></span>
                    <div id="toggle_wisdom_navigatorExcelence" class="toggle" onclick="toggleButton('wisdom_navigatorExcelence')">
                        <div class="toggle-button"></div>
                    </div>
                    <span><i class="fa-solid fa-sun"></i></span>
                    <input type="hidden" id="input_wisdom_navigatorExcelence" name="toggle_wisdom_navigatorExcelence" value="False">
                </div>
            </div>
        </div> -->
    </div>
</div>

<script>
    let rowIndex = 1;  // Keep track of the number of rows

    // Function to toggle the button status
    function toggleButton(suffixId) {
        const toggleId = `toggle_${suffixId}`;
        const inputId = `input_${suffixId}`;

        const toggleElement = document.getElementById(toggleId);
        const inputElement = document.getElementById(inputId);

        toggleElement.classList.toggle('toggle-true');

        inputElement.value = (inputElement.value === 'True') ? 'False' : 'True';
    }

    // Function to add a new row of inputs
    function addRow() {
        const formContainer = document.getElementById('form-container');
        const newRow = document.createElement('div');
        newRow.classList.add('flex-row');
        newRow.setAttribute('data-row-index', rowIndex);

        newRow.innerHTML = `
            <div class="flex-cell cell-50"><input type="text" name="text_wisdom_navigator_book_${rowIndex}" placeholder="Nome do Livro"></div>
            <div class="flex-cell cell-25">
                <span><i class="fa-solid fa-pills"></i></span>
                <div id="toggle_wisdom_navigatorSession_${rowIndex}" class="toggle" onclick="toggleButton('wisdom_navigatorSession_${rowIndex}')">
                    <div class="toggle-button"></div>
                </div>
                <span><i class="fa-regular fa-calendar-check"></i></span>
                <input type="hidden" id="input_wisdom_navigatorSession_${rowIndex}" name="toggle_wisdom_navigatorSession_${rowIndex}" value="False">
            </div>
            <div class="flex-cell cell-25">
                <span><i class="fa-regular fa-moon"></i></span>
                <div id="toggle_wisdom_navigatorExcelence_${rowIndex}" class="toggle" onclick="toggleButton('wisdom_navigatorExcelence_${rowIndex}')">
                    <div class="toggle-button"></div>
                </div>
                <span><i class="fa-solid fa-sun"></i></span>
                <input type="hidden" id="input_wisdom_navigatorExcelence_${rowIndex}" name="toggle_wisdom_navigatorExcelence_${rowIndex}" value="False">
            </div>
        `;

        formContainer.appendChild(newRow);
        rowIndex++;  // Increment the row index
    }

    // Function to remove the last row of inputs
    function removeRow() {
        const formContainer = document.getElementById('form-container');
        if (formContainer.childElementCount > 1) {
            formContainer.removeChild(formContainer.lastChild);
            rowIndex--;  // Decrement the row index
        }
    }

    document.getElementById('add-row').addEventListener('click', addRow);
    document.getElementById('remove-row').addEventListener('click', removeRow);
</script>