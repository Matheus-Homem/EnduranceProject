{% extends "base.html" %}

{% block title %}
    Bússola Lunar
{% endblock %}

{% block header %}
    Bússola Lunar
{% endblock %}

{% block content %}
    <form action="/form/night/" method="POST">

        <section class="opening">
            <h2>Informações Gerais</h2>

            <div class="box">
                <div class="box-title">hoje</div>
                <div class="box-input">
                    <div class="box-table">
                        <div class="box-row">
                            <div class="box-column"><label for="inputDate">Data do Registro</label></div>
                            <div class="box-column"><input type="date" name="inputDate" required></div>
                        </div>
                        <div class="box-row">
                            <div class="box-column"><label for="inputDate">Horário de Preenchimento</label></div>
                            <div class="box-column"><input type="time" name="inputTime" required></div>
                        </div>
                        <div class="box-row">
                            <div class="box-column"><label for="dayHumor">Humor da Noite</label></div>
                            <div class="box-column">
                                <input type="radio" name="dayHumor" value="sol" required>
                                <i class="fa-solid fa-sun"></i>
                            </div>
                            <div class="box-column">
                                <input type="radio" name="dayHumor" value="lua" required>
                                <i class="fa-regular fa-moon"></i>
                            </div>
                        </div>
                        <div class="box-row">
                            <div class="box-column"><textarea name="dailyGratitude" required>Sou grato por </textarea></div>
                        </div>
                    </div>
                </div>
            </div>

        </section>

        <hr>

        <section class="wisdom">
            <h2>Sabedoria</h2>

            <div class="box">
                <div class="box-title">
                    <span>navegador</span>
                </div>
                <div class="box-role">
                    <span>
                        O <strong>Navegador</strong> é aquele que busca experiência de outras vidas para trazer mais <strong>Sabedoria</strong> à <strong>Expedição</strong>
                    </span>
                </div>
                <div class="box-input">
                    <div class="box-habit">
                        <span>
                            Sobre o hábito da <strong>Leitura</strong>
                        </span>
                    </div>
                    <div class="box-table">
                        <div class="box-row">
                            <!-- TODO: criar funcao para caso haja ato o Livro ser obrigatorio -->
                            <div class="box-column"><input type="text" name="wisdomNavigatorBook" placeholder="Livro" ></div>
                            <div class="box-column"><input type="checkbox" name="wisdomNavigatorExcelence" value="True"><i class="fa-solid fa-sun"></i></div>
                            <div class="box-column"><input type="checkbox" name="wisdomNavigatorNotes" value="True"><i class="fa-solid fa-sticky-note"></i></div>
                        </div>
                        <div class="box-row">
                            <div class="box-column"><input type="radio" name="wisdomNavigatorReading" value="False"><span>Sem Ato</span></div>
                            <div class="box-column"><input type="radio" name="wisdomNavigatorReading" value="pill"><span>Pílula</span></div>
                            <div class="box-column"><input type="radio" name="wisdomNavigatorReading" value="session"><span>Sessão</span></div>
                        </div>
                    </div>
                </div>
            </div>

            <div class="box">
                <div class="box-title">
                    <span>alquimista</span>
                </div>
                <div class="box-role">
                    <span>
                        O <strong>Alquimista</strong> é aquele que permite que elementos indesejados deixem de fazer parte da <strong>Expedição</strong> dando lugar à <strong>Sabedoria</strong>
                    </span>
                </div>
                <div class="box-input">
                    <div class="box-habit">
                        <span>
                            Sobre o hábito de <strong>Abdicar</strong>
                        </span>
                    </div>
                    <div class="box-yama">
                        <div class="span-container">
                            <span>Ahimsa</span>
                            <span id="wisdomAlchemistAhimsaOutput">Aguardando Input</span>
                        </div>
                        <input type="range" id="wisdomAlchemistAhimsa" name="wisdomAlchemistAhimsa" min="0" max="16" value="16" oninput="updateOutput(wisdomAlchemistAhimsa, wisdomAlchemistAhimsaOutput)">
                    </div>
                    <div class="box-yama">
                        <div class="span-container">
                            <span>Satya</span>
                            <span id="wisdomAlchemistSatyaOutput">Aguardando Input</span>
                        </div>
                        <input type="range" id="wisdomAlchemistSatya" name="wisdomAlchemistSatya" min="0" max="16" value="16" oninput="updateOutput(wisdomAlchemistSatya, wisdomAlchemistSatyaOutput)">
                    </div>
                    <div class="box-yama">
                        <div class="span-container">
                            <span>Asteya</span>
                            <span id="wisdomAlchemistAsteyaOutput">Aguardando Input</span>
                        </div>
                        <input type="range" id="wisdomAlchemistAsteya" name="wisdomAlchemistAsteya" min="0" max="16" value="16" oninput="updateOutput(wisdomAlchemistAsteya, wisdomAlchemistAsteyaOutput)">
                    </div>
                    <div class="box-yama">
                        <div class="span-container">
                            <span>Brahmacharya</span>
                            <span id="wisdomAlchemistBrahmacharyaOutput">Aguardando Input</span>
                        </div>
                        <input type="range" id="wisdomAlchemistBrahmacharya" name="wisdomAlchemistBrahmacharya" min="0" max="16" value="16" oninput="updateOutput(wisdomAlchemistBrahmacharya, wisdomAlchemistBrahmacharyaOutput)">
                    </div>
                    <div class="box-yama">
                        <div class="span-container">
                            <span>Aparigraha</span>
                            <span id="wisdomAlchemistAparigrahaOutput">Aguardando Input</span>
                        </div>
                        <input type="range" id="wisdomAlchemistAparigraha" name="wisdomAlchemistAparigraha" min="0" max="16" value="16" oninput="updateOutput(wisdomAlchemistAparigraha, wisdomAlchemistAparigrahaOutput)">
                    </div>
                </div>
            </div>

            <div class="box">
                <div class="box-title">
                    <span>aprendiz</span>
                </div>
                <div class="box-role">
                    <span>
                        O <strong>Aprendiz</strong> é aquele que permite que quaisquer experiências vividas durante a <strong>Expedição</strong> sejam transformadas em <strong>Sabedoria</strong>
                    </span>
                </div>
                <div class="box-input">
                    <div class="box-habit">
                        <span>
                            Sobre o hábito de <strong>Crescer</strong>
                        </span>
                    </div>
                    <div class="box-table">
                        <div class="box-row">
                            <div class="box-column"><input type="checkbox" name="wisdomApprenticeType" value="anger"><span>Raiva</span></div>
                            <div class="box-column"><input type="checkbox" name="wisdomApprenticeType" value="sadness"><span>Tristeza</span></div>
                            <div class="box-column"><input type="checkbox" name="wisdomApprenticeType" value="frustration"><span>Frustração</span></div>
                        </div>
                        <div class="box-row">
                            <div class="box-column"><input type="checkbox" name="wisdomApprenticeType" value="fear"><span>Medo</span></div>
                            <div class="box-column"><input type="checkbox" name="wisdomApprenticeType" value="disheartenment"><span>Desânimo</span></div>
                            <div class="box-column"><input type="checkbox" name="wisdomApprenticeType" value="resentment"><span>Ressentimento</span></div>
                        </div>
                        <div class="box-row">
                            <div class="box-column"><textarea name="wisdomApprenticeText">Hoje senti * e com isso pude *</textarea></div>
                        </div>
                    </div>
                </div>
            </div>

            <div class="box">
                <div class="box-title">
                    <span>bússola da sabedoria</span>
                </div>
                <div class="box-input">
                    <div class="box-habit">
                        <span>
                            Sobre o direcionamento de <strong>Hoje</strong>
                        </span>
                    </div>
                    <div class="box-table">
                        <div class="box-row">
                            <div class="box-column"><input type="radio" name="wisdomSatisfaction" value="False"><span>Insatisfeito</span></div>
                            <div class="box-column"><input type="radio" name="wisdomSatisfaction" value="True"><span>Satisfeito</span></div>
                        </div>
                    </div>
                </div>
                <div class="box-input">
                    <div class="box-habit">
                        <span>
                            Sobre o direcionamento de <strong>Amanhã</strong>
                        </span>
                    </div>
                    <div class="box-table">
                        <div class="box-row">
                            <div class="box-column"><input type="checkbox" name="wisdomDiscontent" value="navigator"><span>Navegador</span></div>
                            <div class="box-column"><input type="checkbox" name="wisdomDiscontent" value="alchimist"><span>Alquimista</span></div>
                            <div class="box-column"><input type="checkbox" name="wisdomDiscontent" value="apprentice"><span>Aprendiz</span></div>
                        </div>
                        <div class="box-row">
                            <div class="box-column"><input type="text" name="wisdomGrowthTextArea" placeholder="Amanhã posso ser sábio se..."></div>
                        </div>
                    </div>
                </div>
            </div>            

        </section>
        
        <br><hr><br>
        
        <section class="stability">
            <h2>Estabilidade</h2>

            <div class="box">
                <div class="box-title">
                    <span>patrocinador</span>
                </div>
                <div class="box-role">
                    <span>
                        O <strong>Patrocinador</strong> é aquele que busca ser útil para a sociedade, trazendo <strong>Estabilidade</strong> para a <strong>Expedição</strong>
                    </span>
                </div>
                <div class="box-input">
                    <div class="box-habit">
                        <span>
                            Sobre o hábito da <strong>Trabalhar</strong>
                        </span>
                    </div>
                    <div class="flex-table">
                        <div class="flex-row">
                            <div class="flex-cell cell-50"></div>
                            <div class="flex-cell cell-25">Não</div>
                            <div class="flex-cell cell-25">Sim</div>
                        </div>
                        <div class="flex-row">
                            <div class="flex-cell cell-50">Dia Ativo</div>
                            <div class="flex-cell cell-25"><input type="radio" name="stabilitySponsorActive" value="False" required></div>
                            <div class="flex-cell cell-25"><input type="radio" name="stabilitySponsorActive" value="True" required></div>
                        </div>
                        <div class="flex-row">
                            <div class="flex-cell cell-50">Satisfação</div>
                            <div class="flex-cell cell-25"><input type="radio" name="stabilitySponsorSatisfaction" value="False" required></div>
                            <div class="flex-cell cell-25"><input type="radio" name="stabilitySponsorSatisfaction" value="True" required></div>
                        </div>
                        <div class="flex-row">
                            <div class="flex-cell cell-50">Resultado</div>
                            <div class="flex-cell cell-25"><input type="radio" name="stabilitySponsorOutcome" value="False" required></div>
                            <div class="flex-cell cell-25"><input type="radio" name="stabilitySponsorOutcome" value="True" required></div>
                        </div>
                    </div>
                </div>
            </div>

            <div class="box">
                <div class="box-title">
                    <span>mecenas</span>
                </div>
                <div class="box-role">
                    <span>
                        O <strong>Mecenas</strong> é aquele que enxerga que a <strong>Estabilidade</strong> trazida para a <strong>Expedição</strong> também pode ser compatilhada com a sociedade
                    </span>
                </div>
                <div class="box-input">
                    <div class="box-habit">
                        <span>
                            Sobre o hábito da <strong>Estudar</strong>
                        </span>
                    </div>
                    <div class="flex-table">
                        <div class="flex-row">
                            <div class="flex-cell cell-50"></div>
                            <div class="flex-cell cell-25">Não</div>
                            <div class="flex-cell cell-25">Sim</div>
                        </div>
                        <div class="flex-row">
                            <div class="flex-cell cell-50">Dia Ativo</div>
                            <div class="flex-cell cell-25"><input type="radio" name="stabilityPatronActive" value="False" required></div>
                            <div class="flex-cell cell-25"><input type="radio" name="stabilityPatronActive" value="True" required></div>
                        </div>
                        <div class="flex-row">
                            <div class="flex-cell cell-50">Satisfação</div>
                            <div class="flex-cell cell-25"><input type="radio" name="stabilityPatronSatisfaction" value="False" required></div>
                            <div class="flex-cell cell-25"><input type="radio" name="stabilityPatronSatisfaction" value="True" required></div>
                        </div>
                    </div>
                </div>
            </div>

            <div class="box">
                <div class="box-title">
                    <span>bússola da estabilidade</span>
                </div>
                <div class="box-input">
                    <div class="box-habit">
                        <span>
                            Sobre o direcionamento de <strong>Hoje</strong>
                        </span>
                    </div>
                    <div class="box-table">
                        <div class="box-row">
                            <div class="box-column"><input type="radio" name="stabilitySatisfaction" value="False"><span>Insatisfeito</span></div>
                            <div class="box-column"><input type="radio" name="stabilitySatisfaction" value="True"><span>Satisfeito</span></div>
                        </div>
                    </div>
                </div>
                <div class="box-input">
                    <div class="box-habit">
                        <span>
                            Sobre o direcionamento de <strong>Amanhã</strong>
                        </span>
                    </div>
                    <div class="box-table">
                        <div class="box-row">
                            <div class="box-column"><input type="checkbox" name="stabilityDiscontent" value="navigator"><span>Patrocinador</span></div>
                            <div class="box-column"><input type="checkbox" name="stabilityDiscontent" value="alchimist"><span>Mecenas</span></div>
                            <div class="box-column"><input type="checkbox" name="stabilityDiscontent" value="apprentice"><span>Tesoureiro</span></div>
                        </div>
                        <div class="box-row">
                            <div class="box-column"><input type="text" name="stabilityGrowthTextArea" placeholder="Amanhã posso ser estável se..."></div>
                        </div>
                    </div>
                </div>
            </div>  

        </section>
        
        <br><hr><br>
        
        <section id="strength">
            <h2>Força</h2>

            <fieldset id="vanguard">
                <legend class=centralized>Vanguarda</legend>
            </fieldset>

            <br>

            <fieldset id="scout">
                <legend class=centralized>Batedor</legend>
            </fieldset>

            <br>

            <fieldset id="cook">
                <legend class=centralized>Cozinheiro</legend>
            </fieldset>
        </section>
        
        <br><hr><br>
        
        <section id="kindness">
            <h2>Gentileza</h2>

            <fieldset id="caretaker">
                <legend class=centralized>Zelador</legend>
            </fieldset>

            <br>

            <fieldset id="diplomat">
                <legend class=centralized>Diplomata</legend>
            </fieldset>

            <br>

            <fieldset id="hero">
                <legend class=centralized>Herói</legend>
            </fieldset>

        </section>
        
        <br><hr><br>
        
        <section id="devotion">
            <h2>Devoção</h2>

            <fieldset id="ascetic">
                <legend class=centralized>Asceta</legend>
            </fieldset>

            <br>

            <fieldset id="leader">
                <legend class=centralized>Líder</legend>
            </fieldset>
        </section>
        
        <br><hr><br>

        <section id="ending">
            <div class="buttonContainer">
                <table style="width: 100%;" class=tableWithSpacing>
                    <tr>
                        <td class=centralized>
                            <button type="button" class="returnButton" id="return" style="margin-right: 20px;" onclick="window.location.href='/'">
                                <i class="fas fa-arrow-left"></i>
                                Return
                            </button>
                        </td>
                        <td class=centralized>
                            <button class="resetButton" id="reset" style="margin-right: 20px;" type="reset">
                                <i class="fas fa-undo"></i>
                                Resetz
                            </button>
                        </td>
                        <td class=centralized>
                            <button class="submitButton" id="submit" type="submit" value="Submit">
                                <i class="fas fa-paper-plane"></i>
                                Submit
                            </button>
                        </td>
                </table>
            </div>
        </section>

    </form>

    <script>

        function updateOutput(inputElement, outputElement) {
            var value = inputElement.value;
            var classification = "";
            
            if (value == 0) {
                classification = "Falha";
            } else if (value >= 1 && value <= 13) {
                classification = "Derrota";
            } else if (value == 14 || value == 15) {
                classification = "Vitória";
            } else if (value == 16) {
                classification = "Sucesso";
            }
            
            outputElement.innerText = classification;
        }

        var stabilitySponsorActive = document.getElementById('stabilitySponsorActive');
        var stabilitySponsorSatisfaction = document.getElementById('stabilitySponsorSatisfaction');
        var stabilitySponsorOutcome = document.getElementById('stabilitySponsorOutcome');

        stabilitySponsorActive.addEventListener('change', function() {
            if (stabilitySponsorActive.value === 'True') {
                stabilitySponsorSatisfaction.required = true;
                stabilitySponsorOutcome.required = true;
            } else {
                stabilitySponsorSatisfaction.required = false;
                stabilitySponsorOutcome.required = false;
            }
        });
    </script>   

{% endblock %}