{% extends "base.html" %}

{% block title %}
    [Report] Atharva Bindu
{% endblock %}

{% block content %}


<div class="element-box devotion">
    <div class="element-header">
        <span>Atharva Bindu</span>
    </div>
    <div class="element-habit">
        <span>Sobre o hábito de <strong>Recomeçar-se</strong></span>
    </div>

    <div class="element-table">

        <form method="get" group="{{ request.path }}">
            <div class="element-row">
                <div class="element-cell cell-100 ">
                    <label for="habit_group">Filtrar por Grupo do Hábito:</label>
                </div>
            </div>
            <div class="element-row">
                <div class="element-cell cell-80">
                    <select name="habit_group" class="dropdown">
                        <option value="reset">Reset</option>
                        <option value="outlook">Classificação Diária</option>
                        {% for group in habit_groups %}
                            <option value="{{ group }}" {% if group == selected_habit_group %}selected{% endif %}>{{ group }}</option>
                        {% endfor %}
                    </select>
                </div>
                <div class="element-cell cell-20">
                    <button type="submit" class="filterButton">Filtrar</button>
                </div>
            </div>
        </form>

    </div>

    <div class="element-table">

        <div class="element-row">
            <div class="element-cell cell-40 ">
                <span>Grupos</span>
            </div>
            <div class="element-cell cell-15 ">
                <span>Total</span>
            </div>
            <div class="element-cell cell-15 ">
                <span>Last</span>
            </div>
            <div class="element-cell cell-15 ">
                <span>Streak</span>
            </div>
            <div class="element-cell cell-15 ">
                <span>Gap</span>
            </div>
        </div>
        
        {% for row in summary_data %}
        <div class="element-row">
            <div class="element-cell cell-40 ">
                <span>{{ row.habit_action }}</span>
            </div>
            <div class="element-cell cell-15 ">
                <span>{{ row.total }}</span>
            </div>
            <div class="element-cell cell-15 ">
                <span>{{ row.days_since_last }}</span>
            </div>
            <div class="element-cell cell-15 ">
                <span>{{ row.longest_streak }}</span>
            </div>
            <div class="element-cell cell-15 ">
                <span>{{ row.longest_gap }}</span>
            </div>
        </div>
        {% endfor %}

    </div>
</div>

<div class="buttonContainer">
    <button type="button" class="nextButton" id="menu" onclick="window.location.href='/entry/{{ entry_date }}/menu/'">
        <i class="fa-solid fa-bars"></i>
        Menu
    </button>
    <button type="button" class="submitButton" id="submit" onclick="window.location.href='/entry/{{ entry_date }}/devotion/atharva_bindu/'">
        <i class="fa-solid fa-file-pen"></i>
        New Entry
    </button>
    <button type="button" class="nextButton" id="next" onclick="window.location.href='/report/kindness/citizen/'">
        <i class="fa-solid fa-forward"></i>
        Next
    </button>
</div>

{% endblock %}